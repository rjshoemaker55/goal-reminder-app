{"ast":null,"code":"import { createConnection } from 'typeorm';\nimport { Goal } from '../../src/entity/Goal';\nexport default (async (req, res) => {\n  createConnection().then(async connection => {\n    return new Promise(async (resolve, reject) => {\n      let goalRepo = connection.getRepository(Goal);\n      let goals = await goalRepo.find();\n      res.end(JSON.stringify(goals));\n      resolve();\n    });\n  });\n});","map":{"version":3,"sources":["/Users/rjshoemaker/Documents/code/projects/goal-reminder-app/pages/api/getGoals.ts"],"names":["createConnection","Goal","req","res","then","connection","Promise","resolve","reject","goalRepo","getRepository","goals","find","end","JSON","stringify"],"mappings":"AAAA,SAAwBA,gBAAxB,QAAgD,SAAhD;AACA,SAASC,IAAT,QAAqB,uBAArB;AAEA,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACjCH,EAAAA,gBAAgB,GAAGI,IAAnB,CAAwB,MAAOC,UAAP,IAAsB;AAC5C,WAAO,IAAIC,OAAJ,CAAY,OAAOC,OAAP,EAAgBC,MAAhB,KAA2B;AAC5C,UAAIC,QAAQ,GAAGJ,UAAU,CAACK,aAAX,CAAyBT,IAAzB,CAAf;AAEA,UAAIU,KAAK,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAlB;AAEAT,MAAAA,GAAG,CAACU,GAAJ,CAAQC,IAAI,CAACC,SAAL,CAAeJ,KAAf,CAAR;AACAJ,MAAAA,OAAO;AACR,KAPM,CAAP;AAQD,GATD;AAUD,CAXD","sourcesContent":["import { getConnection, createConnection } from 'typeorm'\nimport { Goal } from '../../src/entity/Goal'\n\nexport default async (req, res) => {\n  createConnection().then(async (connection) => {\n    return new Promise(async (resolve, reject) => {\n      let goalRepo = connection.getRepository(Goal)\n\n      let goals = await goalRepo.find()\n\n      res.end(JSON.stringify(goals))\n      resolve()\n    })\n  })\n}\n"]},"metadata":{},"sourceType":"module"}