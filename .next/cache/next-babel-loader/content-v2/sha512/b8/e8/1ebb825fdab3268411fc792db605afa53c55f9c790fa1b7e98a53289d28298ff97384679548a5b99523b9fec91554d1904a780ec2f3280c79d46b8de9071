{"ast":null,"code":"import { createConnection } from 'typeorm';\nimport { Goal } from '../../src/entity/Goal';\nexport default (async (req, res) => {\n  createConnection().then(async connection => {\n    return new Promise(async (resolve, reject) => {\n      let goalRepo = connection.getRepository(Goal);\n      goalRepo.find().then(goals => {\n        res.json(JSON.stringify);\n        resolve();\n      }).catch(err => {\n        res.json(err);\n        res.status(405).end();\n        return reject();\n      });\n    });\n  });\n});","map":{"version":3,"sources":["/Users/rjshoemaker/Documents/code/projects/goal-reminder-app/pages/api/getGoals.ts"],"names":["createConnection","Goal","req","res","then","connection","Promise","resolve","reject","goalRepo","getRepository","find","goals","json","JSON","stringify","catch","err","status","end"],"mappings":"AAAA,SAAwBA,gBAAxB,QAAgD,SAAhD;AACA,SAASC,IAAT,QAAqB,uBAArB;AAEA,gBAAe,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACjCH,EAAAA,gBAAgB,GAAGI,IAAnB,CAAwB,MAAOC,UAAP,IAAsB;AAC5C,WAAO,IAAIC,OAAJ,CAAY,OAAOC,OAAP,EAAgBC,MAAhB,KAA2B;AAC5C,UAAIC,QAAQ,GAAGJ,UAAU,CAACK,aAAX,CAAyBT,IAAzB,CAAf;AAEAQ,MAAAA,QAAQ,CACLE,IADH,GAEGP,IAFH,CAESQ,KAAD,IAAW;AACfT,QAAAA,GAAG,CAACU,IAAJ,CAASC,IAAI,CAACC,SAAd;AACAR,QAAAA,OAAO;AACR,OALH,EAMGS,KANH,CAMUC,GAAD,IAAS;AACdd,QAAAA,GAAG,CAACU,IAAJ,CAASI,GAAT;AACAd,QAAAA,GAAG,CAACe,MAAJ,CAAW,GAAX,EAAgBC,GAAhB;AACA,eAAOX,MAAM,EAAb;AACD,OAVH;AAWD,KAdM,CAAP;AAeD,GAhBD;AAiBD,CAlBD","sourcesContent":["import { getConnection, createConnection } from 'typeorm'\nimport { Goal } from '../../src/entity/Goal'\n\nexport default async (req, res) => {\n  createConnection().then(async (connection) => {\n    return new Promise(async (resolve, reject) => {\n      let goalRepo = connection.getRepository(Goal)\n\n      goalRepo\n        .find()\n        .then((goals) => {\n          res.json(JSON.stringify)\n          resolve()\n        })\n        .catch((err) => {\n          res.json(err)\n          res.status(405).end()\n          return reject()\n        })\n    })\n  })\n}\n"]},"metadata":{},"sourceType":"module"}